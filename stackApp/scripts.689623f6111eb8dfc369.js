window.SE=function(e){"use strict";function t(e,t){var r=e[t];if(!r)throw t+" required";return r}function r(t,r,o,n){for(var i,a="sec"+w++,l=p;window[a]||c.getElementById(a);)a="sec"+w++;window[a]=function(s){return window[a]=e,i.parentNode.removeChild(i),s.error_id?void n({errorName:s.error_name,errorMessage:s.error_message}):void o({accessToken:t,expirationDate:r,networkUsers:s.items})},l+="?pagesize=100&access_token="+d(t)+"&key="+d(s)+"&callback="+d(a),(i=c.createElement("script")).type="text/javascript",i.src=l,i.id=a,c.getElementsByTagName("head")[0].appendChild(i)}var o,n,i,s,a=window.navigator.userAgent,c=window.document,d=window.encodeURIComponent,w=1,l="sew"+w++,u="https://stackexchange.com",p="https://api.stackexchange.com/2.0/me/associated",h="must pass an object";return{authenticate:function(e){if(!e)throw h;var i,s,c,p,m=t(e,"success"),g=e.scope,f="",v=w++,k=n+"&client_id="+o+"&state="+v,x=e.error;if(g&&"[object Array]"!==Object.prototype.toString.call(g))throw"scope must be an Array";g&&(f=g.join(" ")),f.length>0&&(k+="&scope="+d(f)),c=function(t){if(t.origin===u&&t.source===s){var o,n,a,d,w=t.data.substring(1).split("&"),l={};for(a=0;a<w.length;a++)l[(d=w[a].split("="))[0]]=d[1];if(+l.state===v)return i&&window.removeEventListener("message",c),s.close(),(n=l.access_token)?((o=l.expires)&&(o=new Date((new Date).getTime()+1e3*o)),void(e.networkUsers?r(n,o,m,x):m({accessToken:n,expirationDate:o}))):void(x&&x({errorName:l.error,errorMessage:l.error_description}))}},!window.postMessage||!window.addEventListener||(/MSIE (\d+\.\d+)/.exec(a)||[])[1]<=9?p=setInterval(function(){if(s){if(s.closed)return void clearInterval(p);var e=s.frames["se-api-frame"];e&&(clearInterval(p),c({origin:u,source:s,data:e.location.hash}))}},50):(i=!0,window.addEventListener("message",c)),s=window.open(k,l,"width=660,height=480")},init:function(e){if(!e)throw h;var r=t(e,"clientId"),a=t(e,"channelUrl"),c=t(e,"complete"),w=window.location.protocol,l=w.substring(0,w.length-1),p=(w+"//"+window.location.host).toLowerCase();if(s=t(e,"key"),o=r,0!==(i=a).toLowerCase().indexOf(p))throw"channelUrl must be under the current domain";n=u+"/oauth/dialog?redirect_uri="+d(u+"/oauth/login_success?assisted="+r+"&protocol="+l+"&proxy="+d(i)),setTimeout(function(){c({version:"30381"})})}}}();